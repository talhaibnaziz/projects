webpackJsonp([2],{0:function(a,b,c){function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){var c=(0,l.createStore)(A,z,B);j["default"].render(h["default"].createElement(k.Provider,{store:c},h["default"].createElement(o.SubEditor,b)),document.getElementById(a))}"use strict";var f=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},g=c(298),h=d(g),i=c(327),j=d(i),k=c(459),l=c(466),m=c(1234),n=d(m),o=c(1253),p=c(1332),q=d(p),r=c(1333),s=d(r),t=c(1306),u=c(1334),v=d(u),w=c(1335),x=d(w),y=c(1328),z=f({},q["default"],v["default"]),A=function(){var a=arguments.length<=0||void 0===arguments[0]?z:arguments[0],b=arguments[1];return b.type in t.ActionType?f({},a,{code_editor:(0,s["default"])(a.code_editor,b)}):b.type in y.ActionType?f({},a,{sub_editors:(0,x["default"])(a.sub_editors,b)}):a},B=(0,l.applyMiddleware)(n["default"]);window.renderSubEditor=e},1253:function(a,b,c){function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}"use strict",Object.defineProperty(b,"__esModule",{value:!0}),b.SubEditor=void 0;var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=c(298),j=d(i),k=c(459),l=c(1254),m=c(1307),n=c(1328),o=c(1329),p=c(1330);c(1331);var q=window.CodeEditorText,r=function(a){function b(){e(this,b);var a=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));return a.swapShowInput=a._swapShowInput.bind(a),a.onCustomInputChange=a._onCustomInputChange.bind(a),a.onClickOnSubmit=a._onClickOnSubmit.bind(a),a.onClickOnCompile=a._onClickOnCompile.bind(a),a}return g(b,a),h(b,[{key:"hasStateInitialized",value:function(){var a=this.props.sub_data;return void 0!==a}},{key:"componentDidMount",value:function(){this.hasStateInitialized()||this.props.dispatch(n.actions.initSubEditor(this.props.root))}},{key:"componentWillReceiveProps",value:function(a){this.hasStateInitialized()&&1==this.props.sub_data.fetching_response&&0==a.sub_data.fetching_response&&(this.scroll_to_response=!0)}},{key:"componentDidUpdate",value:function(){if(this.scroll_to_response){this.scroll_to_response=!1;var a=null;if(a=this.props.sub_data.log_response?this.refs.log_response_container:this.refs.sub_response_container)if(this.props.assessment){var b=jQuery(".right-pane");b.animate({scrollTop:b.scrollTop()+jQuery(a).offset().top-b.offset().top-20},500,"linear")}else jQuery("body").animate({scrollTop:jQuery(a).offset().top-20},500,"linear")}}},{key:"_swapShowInput",value:function(){this.props.dispatch(n.actions.swapShowInput(this.props.root))}},{key:"_onCustomInputChange",value:function(a){this.props.dispatch(n.actions.customInputChange(this.props.root,a.target.value))}},{key:"poll",value:function(a,b){var c=this;jQuery.post(a,function(d){c.props.dispatch(n.actions.fetchResponseSuccess(c.props.root,d,b)),(0,o.shouldPoll)(d)&&(c.poll_timeout=setTimeout(c.poll.bind(c,a,b),1e3))})}},{key:"_onClickOnCompile",value:function(){var a=this,b=this.props,c=b.root,d=b.sub_data,e=b.root_data,f=b.problem_slug,g=b.private_url_hash,h=b.p_type_verbose,i=b.dryrun_url,j=b.is_authenticated;if(j){var k=(0,m.getSourceData)(e),l=i,n={source:k.source,lang:e.current_lang,changeset_timestamp:k.last_edited,problem_slug:f,private_hash:g,input:d.input_text,p_type_v:h};this.fetchResponse(c,l,n,!0,function(b,c){return a.poll.bind(a,b,c)})}else(0,m.showLoginModal)()}},{key:"_onClickOnSubmit",value:function(){var a=this,b=this.props,c=b.root,d=b.root_data,e=b.problem_slug,f=b.private_url_hash,g=b.p_type_verbose,h=b.submit_url,i=b.is_authenticated;if(i){var j=(0,m.getSourceData)(d),k=h,l={source:j.source,lang:d.current_lang,changeset_timestamp:j.last_edited,problem_slug:e,private_hash:f,problem_type:g};this.fetchResponse(c,k,l,!1,function(b,c){return a.poll.bind(a,b,c)})}else(0,m.showLoginModal)()}},{key:"fetchResponse",value:function(a,b,c,d,e){var f=this;this.props.dispatch(n.actions.fetchResponse(a,d)),this.poll_timeout&&clearTimeout(this.poll_timeout),jQuery.ajax({type:"POST",url:b,data:c}).done(function(b){var c=JSON.parse(b);f.props.dispatch(n.actions.fetchResponseSuccess(a,c.html,d)),(0,o.shouldPoll)(c.html)&&c.url&&(f.poll_timeout=setTimeout(e(c.url,d),1e3))})}},{key:"render",value:function(){if(!this.hasStateInitialized())return null;var a=this.props,b=a.sub_data,c=a.root_data,d=!1;c&&null!==c.current_lang&&!b.fetching_response&&(d=!0);var e=!0;this.props.disable_custom_input===!0&&(e=!1);var f="custom-input-trigger-"+this.props.private_url_hash,g="compile-test-button-"+this.props.private_url_hash,h="submit-button-"+this.props.private_url_hash,i=this.props,k=i.problem_id,m=i.problem_slug,n=i.p_type,o=i.p_type_verbose,r=i.private_url_hash,s=i.langs_info,t=i.langs_code_ajax_url,v=i.last_lang,w=i.is_authenticated,x=i.disable_paste,y=i.assessment,z=i.fav_lang,A=i.fav_lang_ajax_url,B=i.default_template_ajax_url,C=i.LAB_FL,D=i.LAB_FC,E=(i.onClickOnSubmit,"sub-editor new-submission-container-"+this.props.private_url_hash);return y&&(E+=" assessment-sub-editor"),!y&&c&&c.is_full_screen&&(E+=" fullscreen-editor"),j["default"].createElement("div",{className:E},j["default"].createElement(l.CodeEditor,{problem_id:k,problem_slug:m,p_type:n,p_type_verbose:o,private_url_hash:r,langs_info:s,langs_code_ajax_url:t,last_lang:v,is_authenticated:w,disable_paste:x,assessment:y,fav_lang:z,fav_lang_ajax_url:A,default_template_ajax_url:B,LAB_FL:C,LAB_FC:D,onClickOnSubmit:this.onClickOnSubmit}),j["default"].createElement("div",{className:"sub-editor-footer"},[y?j["default"].createElement("div",{className:"autocomplete-suggestion",key:"autocomplete-suggestion"},j["default"].createElement("div",{className:"float-right light content autocomplete-text"},j["default"].createElement("i",{className:"fa fa-lightbulb-o fa-orange"}),j["default"].createElement("span",{className:"livecomplete-lab-flag-react"}," ",q.autoCompleteInfo))):null,d&&e?j["default"].createElement("div",{className:"custom-input-container",key:"custom-input-container"},j["default"].createElement("a",{id:f,className:"provide-custom-input-trigger regular inline-block",onClick:this.swapShowInput},j["default"].createElement("i",{className:"fa fa-caret-square-o-"+(b.show_input?"up":"down")})," ",q.provideCustomInput),b.show_input?j["default"].createElement("textarea",{className:"custom-input nice-textarea",value:b.input_text,onChange:this.onCustomInputChange}):null):null,d?j["default"].createElement("div",{is:!0,"class":"sub-editor-buttons-container","private-url-hash":this.props.private_url_hash,key:"sub-editor-buttons-container"},j["default"].createElement("button",{id:g,className:"compile-test-button button btn-blue",key:"compile-test-button",onClick:this.onClickOnCompile}," ",n==p.P_TYPE_SQL?q.compileSubmitForSQL:q.compileSubmit," "),j["default"].createElement("button",{id:h,className:"submit-button button btn-green",key:"submit-button",onClick:this.onClickOnSubmit}," ",q.submit," ")):null,j["default"].createElement("div",{className:"clear",key:"clear1"}),b.fetching_response?j["default"].createElement("div",{className:"dots-loader ajax-loader",key:"loader"}):null,b.sub_response?j["default"].createElement("div",{className:"standard-margin submission-container",key:"sub-response",ref:"sub_response_container",dangerouslySetInnerHTML:{__html:b.sub_response}}):null,b.log_response?j["default"].createElement("div",{className:"standard-margin submission-container",key:"log-response",ref:"log_response_container",dangerouslySetInnerHTML:{__html:b.log_response}}):null,j["default"].createElement("div",{className:"clear",key:"clear2"})]),y?null:j["default"].createElement("div",{className:"sub-editor-credits-footer"},j["default"].createElement("div",{className:"float-left light content autocomplete-text"},j["default"].createElement("i",{className:"fa fa-lightbulb-o fa-orange"}),j["default"].createElement("span",{className:"livecomplete-lab-flag-react"}," ",q.autoCompleteInfo)),j["default"].createElement("div",{className:"float-right smaller light content weight-600 poweredby-text",dangerouslySetInnerHTML:{__html:q.poweredByCodeTable}}),j["default"].createElement("div",{className:"clear"})))}}]),b}(j["default"].PureComponent),s=function(a,b){var c=(0,m.getRoot)(b.p_type,b.problem_id);return{root:c,sub_data:a.sub_editors[c],root_data:a.code_editor.roots[c]}};b.SubEditor=(0,k.connect)(s)(r)},1254:function(a,b,c){function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}"use strict",Object.defineProperty(b,"__esModule",{value:!0}),b.CodeEditor=void 0;var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=c(552),j=d(i),k=c(298),l=d(k),m=c(459),n=c(1255),o=d(n);c(1260),c(1263),c(1264),c(1265),c(1266),c(1267),c(1268);var p=c(1303),q=c(1304),r=c(1306),s=c(1307),t=c(1308),u=c(1309),v=c(1310),w=window.CodeEditorText,x=(0,j["default"])({FILE_UPLOAD_INIT:null,EDITOR_CODE_PASTE_INIT:null,EDITOR_CODE_PASTE_WAIT:null,EDITOR_CODE_AFTER_PASTE:null}),y=function(a){function b(){e(this,b);var a=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));return a.onSourceChange=a._onSourceChange.bind(a),a.onLangChange=a._onLangChange.bind(a),a.onClickOnSave=a._onClickOnSave.bind(a),a.onCut=a._onCut.bind(a),a.onCopy=a._onCopy.bind(a),a.onPaste=a._onPaste.bind(a),a.onEditorCreation=a._onEditorCreation.bind(a),a.onSessionCreation=a._onSessionCreation.bind(a),a.onDocumentCreation=a._onDocumentCreation.bind(a),a.keyboardHandlerFunction=a._keyboardHandlerFunction.bind(a),a.onChangeKeybindingsForNormal=a._onChangeKeybindings.bind(a,null),a.onChangeKeybindingsForVim=a._onChangeKeybindings.bind(a,"vim"),a.onChangeKeybindingsForEmacs=a._onChangeKeybindings.bind(a,"emacs"),a.set_fav_lang=a._set_fav_lang.bind(a),a.set_default_template=a._set_default_template.bind(a),a.toggle_expand_box=a._toggle_expand_box.bind(a),a.onClickOnSettingButton=a._onClickOnSettingButton.bind(a),a.onCursorChange=a._onCursorChange.bind(a),a.onVimModeChange=a._onVimModeChange.bind(a),a.onUnload=a._onUnload.bind(a),a.handleFullScreenClick=a._handleFullScreenClick.bind(a),a.aceCommands=[{name:"saveCode",bindKey:{win:"Ctrl-S",mac:"Command-S",sender:"editor|cli"},exec:function(){a.onClickOnSave()}}],a.codefileUpload=a._codefileUpload.bind(a),a.openCodeFile=a._openCodeFile.bind(a),a.onLangChangeOnUpload=a._onLangChangeOnUpload.bind(a),a.codeFileSubmit=a._codeFileSubmit.bind(a),a.codeFileEdit=a._codeFileEdit.bind(a),a.fileUploadModalClose=a._fileUploadModalClose.bind(a),a.state={is_open_expand_box:!1,vim_mode:"normal",is_full_screen:!1,file_upload_state:null,code_file:null,code_file_lang:null,show_file_upload_modal:!1,submitCode:!1},a}return g(b,a),h(b,[{key:"_onUnload",value:function(a){var b=this.getCurrentSessionId(),c=(0,t.getCodePlayerForSessionId)(b);c&&c.is_recording_code_player&&(a.returnValue="You may loose all the unsaved changes!")}},{key:"componentDidMount",value:function(){var a=this,b=this.props,c=b.root,d=b.problem_id,e=b.problem_slug,f=b.p_type,g=b.p_type_verbose,h=b.private_url_hash,i=b.is_authenticated,j=b.langs_info,k=b.langs_code_ajax_url,l=b.last_lang,m=b.fav_lang,n=b.fav_lang_ajax_url,o=b.default_template_ajax_url,p=b.LAB_FL,q=b.LAB_FC,s=j.map(function(a){return a.id}).join(",");this.hasStateInitialized()||this.props.dispatch(r.actions.initCodeEditor(c,{problem_id:d,problem_slug:e,p_type:f,p_type_verbose:g,private_url_hash:h,is_authenticated:i,langs_info:j,last_lang:l,fav_lang:m,fav_lang_ajax_url:n,default_template_ajax_url:o,LAB_FL:p,LAB_FC:q})),this.isSourceLoaded()||jQuery.get(k,{langs:s},function(b){a.props.dispatch(r.actions.setSourceInCodeEditor(c,b.data,a.animateSave.bind(a)))}),document.addEventListener("click",this.toggle_expand_box,!1),window.addEventListener("beforeunload",this.onUnload)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.toggle_expand_box,!1),window.removeEventListener("beforeunload",this.onUnload)}},{key:"hasStateInitialized",value:function(){var a=this.props.root_data;return void 0!==a}},{key:"isSourceLoaded",value:function(){return!!this.hasStateInitialized()&&null!==this.props.root_data.current_lang}},{key:"getCurrentLang",value:function(){return this.hasStateInitialized()?this.props.root_data.current_lang:null}},{key:"getCurrentLangName",value:function(){if(!this.hasStateInitialized())return null;for(var a=this.getCurrentLang(),b=0;b<this.props.langs_info.length;b++)if(this.props.langs_info[b].id==a)return this.props.langs_info[b].name}},{key:"getCurrentSource",value:function(){if(!this.isSourceLoaded())return"";var a=this.props.root_data;return a.lang_source_map[a.current_lang].source}},{key:"getCurrentWholeSource",value:function(){if(!this.isSourceLoaded())return"";var a=this.props.root_data;return a.lang_source_map[a.current_lang].whole_source}},{key:"getCurrentSessionId",value:function(){var a=this.props.root,b=this.getCurrentLang();return b?a+"-"+b:"default"}},{key:"getCurrentKeybindings",value:function(){return this.hasStateInitialized()?this.props.global_conf.current_keybindings:null}},{key:"getCurrentReadonlyRanges",value:function(){return(0,u.getOrCreateReadonlyRanges)(this.getCurrentSessionId())}},{key:"animateSave",value:function(a){var b=jQuery(this.refs.saveLink);a===!0?(b.html("Saved"),b.css({"background-color":"yellow"}),b.animate({backgroundColor:"#e5e7e8"},1e3,function(){b.css("background-color","rgba(0, 0, 0, 0)")})):b.html("Error in saving"),setTimeout(function(){b.fadeIn().html("Save").fadeIn()},1e3)}},{key:"setUpReadonlyRangesOnDoc",value:function(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.start=a.createAnchor(d.start),d.end=a.createAnchor(d.end),d.end.$insertRight=!0}}},{key:"setUpReadonlyRangesOnSession",value:function(a,b){for(var c=0;c<b.length;c++){var d=b[c];a.addMarker(d,"ace-readonly-highlight")}}},{key:"does_selection_intersect",value:function(a,b){for(var c=this.refs.ace_editor.getSelectionRange(),d=0;d<a.length;d++){var e=a[d];if((b||c.start.row!=e.end.row||c.start.column!=e.end.column)&&c.intersects(e))return!0}return!1}},{key:"getCursorPosition",value:function(){if(this.isSourceLoaded()){var a=this.props.root_data;return a.lang_source_map[a.current_lang].cursor_pos}var b={col:0,row:0};return b}},{key:"_onSourceChange",value:function(a,b){this.props.dispatch(r.actions.changeSourceInCodeEditor(this.props.root,a,b))}},{key:"_onLangChange",value:function(a){var b=a.target.value;this.props.dispatch(r.actions.changeCurrentLangInCodeEditor(this.props.root,b))}},{key:"_onCursorChange",value:function(a,b){this.props.dispatch(r.actions.setCursorPosition(this.props.root,a,b))}},{key:"_onVimModeChange",value:function(a){this.setState({vim_mode:a})}},{key:"_onClickOnSave",value:function(){if(this.isSourceLoaded()){var a=this.getCurrentSessionId(),b=(0,t.codePlayerFinishRecording)(a);b||this.animateSave(!0)}}},{key:"_onCut",value:function(){if(this.props.disable_paste)return!1;var a=this.getCurrentReadonlyRanges();return!this.does_selection_intersect(a,!1)}},{key:"_onCopy",value:function(){if(this.props.disable_paste)return!1;var a=this.getCurrentReadonlyRanges();return!this.does_selection_intersect(a,!1)}},{key:"_onPaste",value:function(){if(this.props.disable_paste)return!1;var a=this.getCurrentReadonlyRanges();return!this.does_selection_intersect(a,!1)}},{key:"_onEditorCreation",value:function(a){for(var b=["backspace","del","indent"],c=this,d=0;d<b.length;d++){var e=b[d],f=a.commands.byName[e];!function(b){a.commands.addCommand({name:b.name,bindKey:b.bindKey,exec:function(a){if(!c.does_selection_intersect(c.getCurrentReadonlyRanges(),"backspace"==b.name)&&("del"!=b.name||c.can_delete(!1,!1)))return b.exec.call(this,a)}})}(f)}}},{key:"can_delete",value:function(a,b){var c=this.refs.ace_editor.editor.getSelectionRange(),d=c.end.row,e=c.end.column,f=this.refs.ace_editor.editor.getSession().getValue().split("\n"),g=f[d],h=g.slice(e);if(/^\r?$/.test(h)||a)for(var i=this.getCurrentReadonlyRanges(),j=0;j<i.length;j++){var k=i[j];if(!b&&k.start.row==d+1)return!1;if(b&&k.end.row==d){if(d+1==f.length)return!1;if(i.some(function(a){return a.start.row==d+1}))return!1}}return!0}},{key:"_onDocumentCreation",value:function(a,b){this.setUpReadonlyRangesOnDoc(b,(0,u.getOrCreateReadonlyRanges)(a))}},{key:"_onSessionCreation",value:function(a,b){this.setUpReadonlyRangesOnSession(b,(0,u.getOrCreateReadonlyRanges)(a));var c=a.split("-");if(c.length>1){var d=c[c.length-1];b.lang=d}}},{key:"_keyboardHandlerFunction",value:function(a,b,c,d){var e=this.getCurrentKeybindings();if("vim"==e&&"insert"!=this.state.vim_mode){var f=String.fromCharCode(d);return("normal"==this.state.vim_mode&&"d"==f||"D"==f)&&(!!this.does_selection_intersect(this.getCurrentReadonlyRanges(),!1)||!this.can_delete(!0,!0))&&{command:"null",passEvent:!1}}return!(b===-1||d<=40&&d>=37)&&(this.does_selection_intersect(this.getCurrentReadonlyRanges(),!1)?{command:"null",passEvent:!1}:void 0)}},{key:"_onClickOnSettingButton",value:function(a){this.state.is_open_expand_box||(a.stopPropagation(),a.nativeEvent.stopImmediatePropagation(),this.setState({is_open_expand_box:!0}))}},{key:"_toggle_expand_box",value:function(a){this.state.is_open_expand_box&&!jQuery.contains(this.refs.expand_box,a.target)&&this.setState({is_open_expand_box:!1})}},{key:"_onChangeKeybindings",value:function(a){this.props.dispatch(r.actions.changeCurrentKeybindings(this.props.root,a)),this.setState({is_open_expand_box:!1}),this.refs.ace_editor.focus(),this.setState({vim_mode:"normal"})}},{key:"_set_fav_lang",value:function(){var a=this,b=this.getCurrentLangName();jQuery.ajax({type:"POST",url:this.props.fav_lang_ajax_url,data:{lang:b}}).done(function(c){"OK"==c.status&&(window.addAlert(c.message),a.props.dispatch(r.actions.changeFavoriteLang(a.props.root,b)))}),this.setState({is_open_expand_box:!1})}},{key:"_set_default_template",value:function(){var a={code:this.getCurrentSource(),lang:this.getCurrentLang(),confirm:"confirm"};jQuery.ajax({type:"POST",url:this.props.default_template_ajax_url,data:a}).done(function(a){"confirm"==a.status?this.refs.confirm_set_favorite_code.click():"OK"==a.status&&window.addAlert(a.message)}),this.setState({is_open_expand_box:!1})}},{key:"_change_vim_mode",value:function(){}},{key:"componentDidUpdate",value:function(){var a=this.state.file_upload_state;switch(a){case x.FILE_UPLOAD_INIT:this.setFileInState();break;case x.EDITOR_CODE_PASTE_INIT:this.setCodeInEditor();break;case x.EDITOR_CODE_AFTER_PASTE:this.afterCodePaste()}return!0}},{key:"_openCodeFile",value:function(){if(this.props.is_authenticated){if(!this.isSourceLoaded())return;var a=this.refs.codeFile;a.click()}else(0,s.showLoginModal)()}},{key:"_codefileUpload",value:function(){this.setState({file_upload_state:x.FILE_UPLOAD_INIT,show_file_upload_modal:!0,code_file_lang:this.getCurrentLang()})}},{key:"_onLangChangeOnUpload",value:function(a){var b=a.target.value;return this.setState({code_file_lang:b}),!0}},{key:"_codeFileEdit",value:function(){this.setState({file_upload_state:x.EDITOR_CODE_PASTE_INIT})}},{key:"_codeFileSubmit",value:function(){this.setState({file_upload_state:x.EDITOR_CODE_PASTE_INIT,submitCode:!0})}},{key:"setFileInState",value:function(){var a=this.refs.codeFile,b=a.files[0],c=(0,s.getLangForFilePath)(b.name);return c&&(0,s.isLangAllowed)(c,this.props.root_data.langs_info)||(c=this.getCurrentLang()),this.setState({code_file:b,code_file_lang:c}),!0}},{key:"setCodeInEditor",value:function(){var a=this;this.props.dispatch(r.actions.changeCurrentLangInCodeEditor(this.props.root,this.state.code_file_lang));var b="",c=new FileReader;c.onload=function(){b=c.result,a.refs.ace_editor.setValue(b),a.setState({file_upload_state:x.EDITOR_CODE_AFTER_PASTE})},c.readAsText(this.state.code_file),this.setState({file_upload_state:x.EDITOR_CODE_PASTE_WAIT})}},{key:"afterCodePaste",value:function(){this.state.submitCode&&this.props.onClickOnSubmit(),this.fileUploadModalClose();var a=this.refs.codeFile;a.value=""}},{key:"_fileUploadModalClose",value:function(){this.setState({file_upload_state:null,code_file:null,code_file_lang:null,show_file_upload_modal:!1,submitCode:!1})}},{key:"_handleFullScreenClick",value:function(){this.state.is_full_screen?this._restore():this._fullScreen(),this.props.dispatch(r.actions.toggleFullScreenMode(this.props.root,!this.state.is_full_screen)),this.setState({is_full_screen:!this.state.is_full_screen}),this.setState({is_open_expand_box:!1})}},{key:"_fullScreen",value:function(){var a=this;jQuery("body").addClass("disable-vertical-scroll"),jQuery(".problem-description").addClass("fullscreen-problem-description"),jQuery("#fullscreen-problem-title").removeClass("hidden"),o["default"].unbind("backspace"),o["default"].on("backspace",null,function(b){a.handleFullScreenClick()}),o["default"].on("esc",null,function(b){a.handleFullScreenClick()})}},{key:"_restore",value:function(){jQuery("body").removeClass("disable-vertical-scroll"),jQuery(".problem-description").removeClass("fullscreen-problem-description"),jQuery("#fullscreen-problem-title").addClass("hidden"),o["default"].unbind("backspace"),o["default"].unbind("esc")}},{key:"render",value:function(){var a=this.props,b=a.langs_info,c=a.LAB_FL,d=a.LAB_FC,e=a.assessment,f=this.isSourceLoaded(),g=this.getCurrentLang(),h=this.getCurrentLangName(),i=this.getCurrentSessionId(),j=this.getCurrentKeybindings(),k=this.getCursorPosition(),m=this.state.code_file_lang,n="";"insert"==this.state.vim_mode&&(n=" (Insert)");var o="setting-expand-box less-margin "+(this.state.is_open_expand_box?"block":"hidden"),r=null;d&&!e&&(r=l["default"].createElement("a",{className:"set-favorite-code",onClick:this.set_default_template},l["default"].createElement("li",null,"Set as default template")));var t=null;c&&(t=l["default"].createElement("a",{className:"set-favorite-lang",onClick:this.set_fav_lang},l["default"].createElement("li",null,"Set ",h," as favorite")));var x=[],y=this.getCurrentSource();if(f){var z={};if(x=(0,u.getOrCreateReadonlyRanges)(i,z),z.created){var A=this.getCurrentWholeSource();y=(0,s.get_source_and_readonly_ranges)(A,x)}}var B=w.goFullScreen;this.state.is_full_screen&&(B=w.exitFullScreen);var D="code-editor-"+this.props.private_url_hash,F="editor-lang-select-"+this.props.private_url_hash,G="editor-save-trigger-"+this.props.private_url_hash;return l["default"].createElement("div",{id:D,className:"code-editor"},l["default"].createElement("div",{className:"editor-header"},e?null:l["default"].createElement("span",{className:"file-upload-text light regular",dangerouslySetInnerHTML:{__html:w.writeOrUploadCode},onClick:this.openCodeFile}),l["default"].createElement("div",{className:"hidden"},l["default"].createElement("input",{type:"file",id:"codeFile",ref:"codeFile",onChange:this.codefileUpload,readOnly:!f})),l["default"].createElement("div",{className:this.state.show_file_upload_modal?"":"hidden"},l["default"].createElement("div",{className:"react-modal-overlay"},l["default"].createElement("div",{className:"react-modal-container small-modal"},l["default"].createElement("a",{className:"modal-close no-underline",title:"Close",onClick:this.fileUploadModalClose}),l["default"].createElement("div",{className:"modal-header"},l["default"].createElement("h4",{className:"dark large less-margin"},"Select Language")),l["default"].createElement("hr",{className:"hr"}),l["default"].createElement("div",{className:"modal-content"},l["default"].createElement("div",{className:"light regular less-margin"},"Just one more thing to do"),l["default"].createElement("select",{className:" float-left nice-select",value:m||"lang",onChange:this.onLangChangeOnUpload.bind(this)},f?b.map(function(a){return l["default"].createElement("option",{value:a.id,key:a.id},a.versioned_name)}):[l["default"].createElement("option",{value:"lang",key:"lang"},w.SelectLanguage)])),l["default"].createElement("div",{className:"modal-footer"},l["default"].createElement("a",{className:"button btn-blue float-right close-modal-window edit-code",onClick:this.codeFileEdit.bind(this)},"Edit"),l["default"].createElement("a",{className:"float-right button btn-blue close-modal-window submit-code medium-margin-right",onClick:this.codeFileSubmit.bind(this)},"Submit"),l["default"].createElement("div",{className:"clear"}))))),l["default"].createElement("div",{className:"editor-settings-button-container float-right"},l["default"].createElement("div",{className:"editor-settings-button",onClick:this.onClickOnSettingButton},l["default"].createElement("i",{className:"fa fa-cog"})),l["default"].createElement("div",{className:"clear"}),l["default"].createElement("div",{className:o,ref:"expand_box"},l["default"].createElement("div",{className:"down-arrow"}),l["default"].createElement("ul",{className:"no-margin"},l["default"].createElement("div",{className:"editor-options"},l["default"].createElement("a",{className:"normal-editor custom-editor float-left"+(j?"":" active-editor")},l["default"].createElement("li",{className:"smaller caps weight-600"},w.keybindingNormal),l["default"].createElement("div",{className:"editor-status larger",onClick:this.onChangeKeybindingsForNormal},l["default"].createElement("i",{className:"fa fa-green fa-check-circle","aria-hidden":"true"}))),l["default"].createElement("a",{className:"vim-editor custom-editor float-left"+("vim"==j?" active-editor":"")},l["default"].createElement("li",{className:"smaller caps weight-600"},w.keybindingVim),l["default"].createElement("div",{className:"editor-status larger",onClick:this.onChangeKeybindingsForVim},l["default"].createElement("i",{className:"fa fa-green fa-check-circle","aria-hidden":"true"}))),l["default"].createElement("a",{className:"emacs-editor custom-editor float-left"+("emacs"==j?" active-editor":"")},l["default"].createElement("li",{className:"smaller caps weight-600"},w.keybindingEmacs),l["default"].createElement("div",{className:"editor-status larger",onClick:this.onChangeKeybindingsForEmacs},l["default"].createElement("i",{className:"fa fa-green fa-check-circle","aria-hidden":"true"}))),l["default"].createElement("div",{className:"clear"})),l["default"].createElement("div",{className:"editor-divider"}),t,r,e?null:l["default"].createElement("a",{className:"medium-margin-left go-full-screen",onClick:this.handleFullScreenClick},B)))),l["default"].createElement("a",{id:"confirm-set-favorite-code",className:"show-modal hidden",target:"confirm-set-favorite-code-modal",ref:"confirm_set_favorite_code"}),l["default"].createElement("div",{id:"confirm-set-favorite-code-modal",className:"modal-window small-modal"},l["default"].createElement("div",{className:"modal-header"},w.updateDefaultTemplate),l["default"].createElement("div",{className:"modal-content"},l["default"].createElement("div",{className:"dark regular"},w.overWriteExistingTemplate)),l["default"].createElement("div",{className:"modal-footer"},l["default"].createElement("a",{href:"#",className:"link-3 float-left close-modal-window link-near-button"},w.takeMeBack),l["default"].createElement("a",{className:"float-right button btn-blue close-modal-window set-favorite-code",id:"set-favorite-code",onClick:this.set_default_template.bind(this)},w.yes),l["default"].createElement("div",{className:"clear"}))),l["default"].createElement("select",{id:F,className:"editor-lang-select nice-select",value:g||"lang",onChange:this.onLangChange},f?b.map(function(a){return l["default"].createElement("option",{value:a.id,key:a.id},a.versioned_name)}):[l["default"].createElement("option",{value:"lang",key:"lang"},w.selectLanguage)]),l["default"].createElement("a",{id:G,className:"editor-save-trigger float-right regular",ref:"saveLink",onClick:this.onClickOnSave},w.save)),l["default"].createElement(q.AceEditor,{mode:g?p.LANG_MODE_MAP[g]:"",theme:"crimson_editor",name:"code-ace-editor",ref:"ace_editor",keyboardHandler:this.getCurrentKeybindings(),sessionId:i,value:f?y:w.loading+"...",onChange:this.onSourceChange,commands:this.aceCommands,width:"100%",showPrintMargin:!1,highlightActiveLine:!0,enableBasicAutocompletion:!0,enableLiveAutocompletion:!1,completer:g?(0,v.getCompleter)(g):null,tabSize:4,fontSize:15,showGutter:!0,readOnly:!f,onCut:this.onCut,onCopy:this.onCopy,onPaste:this.onPaste,onEditorCreation:this.onEditorCreation,onDocumentCreation:this.onDocumentCreation,onSessionCreation:this.onSessionCreation,keyboardHandlerFunction:this.keyboardHandlerFunction,minLines:25,maxLines:40,onCursorChange:this.onCursorChange,onVimModeChange:this.onVimModeChange}),l["default"].createElement("div",{className:"cursor-position"},k.row+1,":",k.col+1),j?l["default"].createElement("div",{className:"keybindings-text"},l["default"].createElement("span",null,j+n)):null)}}]),b}(l["default"].PureComponent);b.CodeEditor=(0,m.connect)(function(a,b){var c=b.p_type,d=b.problem_id,e=(0,s.getRoot)(c,d);return{global_conf:a.code_editor.global_conf,root:e,root_data:a.code_editor.roots[e]}})(y)},1268:function(a,b,c){"use strict",c(1269),c(1270),c(1271),c(1272),c(1273),c(1275),c(1276),c(1277),c(1280),c(1281),c(1282),c(1283),c(1284),c(1285),c(1286),c(1287),c(1288),c(1289),c(1290),c(1291),c(1292),c(1293),c(1294),c(1296),c(1297),c(1298),c(1299),c(1300),c(1301),c(1302)},1303:function(a,b){"use strict",Object.defineProperty(b,"__esModule",{value:!0}),b.LANG_MODE_MAP={C:"c_cpp",CPP:"c_cpp",CPP11:"c_cpp",PYTHON:"python",PYTHON3:"python",PERL:"perl",PASCAL:"pascal",JAVA:"java",JAVA8:"java",RUBY:"ruby",GO:"golang",PHP:"php",CSHARP:"csharp",FSHARP:"csharp",HTML:"html",CSS:"css",JAVASCRIPT:"javascript",JAVASCRIPT_UI:"javascript",JAVASCRIPT_NODE:"javascript",HASKELL:"haskell",CLOJURE:"clojure",SCALA:"scala",TEXTFILE:"html",BEFUNGE:"c_cpp",LOLCODE:"c_cpp",WHENEVER:"c_cpp",OBJECTIVEC:"objectivec",LISP:"lisp",RACKET:"lisp",LISP_SBCL:"lisp",R:"r",RUST:"rust",MYSQL:"mysql",POSTGRESQL:"pgsql",MSSQL:"sqlserver",LUA:"lua",GROOVY:"groovy",D:"d",ERLANG:"erlang",JULIA:"julia",OCAML:"ocaml",OCTAVE:"matlab",SWIFT:"swift"},b.EXTENSION_TO_LANG_MAP={bf:"BEFUNGE",c:"C",clj:"CLOJURE",cpp:"CPP",cpp11:"CPP11",cs:"CSHARP",css:"CSS",d:"D",erl:"ERLANG",fs:"FSHARP",go:"GO",groovy:"GROOVY",hs:"HASKELL",html:"HTML",java:"JAVA",java8:"JAVA8",jl:"JULIA",js:"JAVASCRIPT",lisp:"LISP_SBCL",lol:"LOLCODE",lua:"LUA",m:"OBJECTIVEC",ml:"OCAML",mssql:"MSSQL",njs:"JAVASCRIPT_NODE",oct:"OCTAVE",pas:"PASCAL",php:"PHP",pl:"PERL",psql:"POSTGRESQL",py:"PYTHON",py3:"PYTHON3",r:"R",rb:"RUBY",rkt:"RACKET",rs:"RUST",scala:"SCALA",scm:"LISP",sql:"MYSQL",swift:"SWIFT",teen:"WHENEVER",txt:"TEXTFILE",vb:"VB"}},1304:function(a,b,c){function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function h(a,b,c,d){if(a in window.editorSessions)return d.created=!1,window.editorSessions[a];var e=m["default"].createEditSession(b(),c?"ace/mode/"+c:void 0);return window.editorSessions[a]=e,d.created=!0,e}function i(a,b,c){var d=a[b];return a[b]=function(
){var b=Array.prototype.slice.call(arguments);return c.call(this,function(){return d.apply(a,b)},b)},a[b]}"use strict",Object.defineProperty(b,"__esModule",{value:!0}),b.AceEditor=void 0;var j=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},k=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),l=c(1260),m=d(l);c(1263);var n=c(298),o=d(n),p=c(1305),q=d(p),r=m["default"].acequire("ace/range"),s=r.Range,t=m["default"].acequire("ace/keyboard/hash_handler"),u=t.HashHandler,v=m["default"].acequire("ace/document"),w=v.Document,x=m["default"].acequire("ace/keyboard/keybinding"),y=x.KeyBinding,z=m["default"].acequire("ace/ext/language_tools"),A=z.addCompleter;y.prototype.setKeyboardHandler=function(a){var b=this.$handlers;if(b[b.length-1]!=a){for(;b[b.length-1]&&b[b.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(b[b.length-1]);this.addKeyboardHandler(a,b.length)}},window.editorSessions={};var B=["minLines","maxLines","readOnly","highlightActiveLine","tabSize","enableBasicAutocompletion","enableLiveAutocompletion","enableSnippets"],C=b.AceEditor=function(a){function b(a){e(this,b);var c=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return["onChange","onFocus","onBlur","onCut","onCopy","onPaste","onScroll","handleOptions","onCursorChange","onVimModeChange"].forEach(function(a){c[a]=c[a].bind(c)}),c.getSelectionRange=function(){return c.editor.getSelectionRange()},c.focus=function(){c.editor.focus()},c.setValue=function(a){c.editor.setValue(a),c.editor.session.selection.moveCursorFileStart(),c.editor.focus()},c}return g(b,a),k(b,[{key:"componentDidMount",value:function(){var a=this,b=this.props,c=b.className,d=b.onBeforeLoad,e=b.mode,f=b.focus,g=b.theme,j=b.fontSize,k=b.sessionId,l=b.value,n=b.cursorStart,o=b.showGutter,p=b.wrapEnabled,q=b.showPrintMargin,r=b.keyboardHandler,s=b.onLoad,t=b.commands,v=b.annotations,w=b.markers;this.editor=m["default"].edit(this.refs.editor),this.editor.$blockScrolling=1/0;var x=new u;if(x.handleKeyboard=function(b,c,d,e,f){if(a.props.keyboardHandlerFunction)return a.props.keyboardHandlerFunction(b,c,d,e,f)},this.editor.keyBinding.addKeyboardHandler(x,0),this.props.onEditorCreation&&this.props.onEditorCreation(this.editor),k){var y={},z=h(k,this.createNewDocument.bind(this,k,l),e,y);this.editor.setSession(z),y.created&&this.props.onSessionCreation&&this.props.onSessionCreation(this.props.sessionId,this.editor.getSession())}d&&d(m["default"]);for(var C=Object.keys(this.props.editorProps),D=0;D<C.length;D++)this.editor[C[D]]=this.props.editorProps[C[D]];k||this.editor.getSession().setMode("ace/mode/"+e),this.editor.setTheme("ace/theme/"+g),this.editor.setFontSize(j),k||this.editor.setValue(l,n),this.editor.renderer.setShowGutter(o),this.editor.getSession().setUseWrapMode(p),this.editor.setShowPrintMargin(q),this.editor.on("focus",this.onFocus),this.editor.on("blur",this.onBlur),i(this.editor,"onCut",this.onCut),i(this.editor,"onCopy",this.onCopy),i(this.editor,"onPaste",this.onPaste),i(this.editor,"onCursorChange",this.onCursorChange),this.editor.on("change",this.onChange),this.editor.session.on("changeScrollTop",this.onScroll),this.handleOptions(this.props),this.editor.getSession().setAnnotations(v||[]),this.handleMarkers(w||[]),this.props.completer&&A(this.props.completer);for(var E=this.editor.$options,F=0;F<B.length;F++){var G=B[F];E.hasOwnProperty(G)&&this.editor.setOption(G,this.props[G])}Array.isArray(t)&&t.forEach(function(b){a.editor.commands.addCommand(b)}),r&&(this.editor.setKeyboardHandler("ace/keyboard/"+r),"vim"==r&&this.editor.state.cm.on("vim-mode-change",this.onVimModeChange)),c&&(this.refs.editor.className+=" "+c),f&&this.editor.focus(),s&&s(this.editor)}},{key:"componentWillReceiveProps",value:function(a){var b=this,c=this.props;if(a.sessionId!=c.sessionId){var d={},e=h(a.sessionId,this.createNewDocument.bind(this,a.sessionId,a.value),a.mode,d);this.editor.setSession(e),this.editor.focus(),d.created&&this.props.onSessionCreation&&this.props.onSessionCreation(a.sessionId,this.editor.getSession())}for(var f=0;f<B.length;f++){var g=B[f];a[g]!==c[g]&&this.editor.setOption(g,a[g])}if(a.className!==c.className&&!function(){var d=b.refs.editor.className,e=d.trim().split(" "),f=c.className.trim().split(" ");f.forEach(function(a){var b=e.indexOf(a);e.splice(b,1)}),b.refs.editor.className=" "+a.className+" "+e.join(" ")}(),a.theme!==c.theme&&this.editor.setTheme("ace/theme/"+a.theme),a.keyboardHandler!==c.keyboardHandler&&(this.editor.setKeyboardHandler(a.keyboardHandler?"ace/keyboard/"+a.keyboardHandler:null),"vim"==a.keyboardHandler&&this.editor.state.cm.on("vim-mode-change",this.onVimModeChange)),a.fontSize!==c.fontSize&&this.editor.setFontSize(a.fontSize),a.wrapEnabled!==c.wrapEnabled&&this.editor.getSession().setUseWrapMode(a.wrapEnabled),a.showPrintMargin!==c.showPrintMargin&&this.editor.setShowPrintMargin(a.showPrintMargin),a.showGutter!==c.showGutter&&this.editor.renderer.setShowGutter(a.showGutter),(0,q["default"])(a.setOptions,c.setOptions)||this.handleOptions(a),(0,q["default"])(a.annotations,c.annotations)||this.editor.getSession().setAnnotations(a.annotations||[]),(0,q["default"])(a.markers,c.markers)||this.handleMarkers(a.markers||[]),this.editor&&this.editor.getValue()!==a.value){this.silent=!0;var i=this.editor.session.selection.toJSON();this.editor.setValue(a.value,a.cursorStart),this.editor.session.selection.fromJSON(i),this.silent=!1}a.focus&&!c.focus&&this.editor.focus(),a.height!==this.props.height&&this.editor.resize(),a.completer&&a.completer!=c.completer&&A(a.completer)}},{key:"componentWillUnmount",value:function(){this.editor.destroy(),this.editor=null}},{key:"createNewDocument",value:function(a,b){var c=new w(b);return this.props.onDocumentCreation&&this.props.onDocumentCreation(a,c),c}},{key:"onChange",value:function(a){if(this.props.onChange&&!this.silent){var b=this.editor.getValue();this.props.onChange(b,a)}}},{key:"onFocus",value:function(){this.props.onFocus&&this.props.onFocus()}},{key:"onBlur",value:function(){this.props.onBlur&&this.props.onBlur()}},{key:"onCut",value:function(a,b){if(this.props.onCut){var c=this.props.onCut(b[0]);c===!0&&a()}else a()}},{key:"onCopy",value:function(a,b){if(this.props.onCopy){var c=this.props.onCopy(b[0]);c===!0&&a()}else a()}},{key:"onPaste",value:function(a,b){if(this.props.onPaste){var c=this.props.onPaste(b[0]);c===!0&&a()}else a()}},{key:"onCursorChange",value:function(a){if(a(),this.props.onCursorChange){var b=this.editor.getCursorPosition(),c=b.row,d=b.column;this.props.onCursorChange(c,d)}}},{key:"onVimModeChange",value:function(a){this.props.onVimModeChange&&this.props.onVimModeChange(a.mode)}},{key:"onScroll",value:function(){this.props.onScroll&&this.props.onScroll(this.editor)}},{key:"handleOptions",value:function(a){for(var b=Object.keys(a.setOptions),c=0;c<b.length;c++)this.editor.setOption(b[c],a.setOptions[b[c]])}},{key:"handleMarkers",value:function(a){var b=this,c=this.editor.getSession().getMarkers(!0);for(var d in c)c.hasOwnProperty(d)&&this.editor.getSession().removeMarker(c[d].id);c=this.editor.getSession().getMarkers(!1);for(var e in c)c.hasOwnProperty(e)&&this.editor.getSession().removeMarker(c[e].id);a.forEach(function(a){var c=a.startRow,d=a.startCol,e=a.endRow,f=a.endCol,g=a.className,h=a.type,i=a.inFront,j=void 0!==i&&i,k=new s(c,d,e,f);b.editor.getSession().addMarker(k,g,h,j)})}},{key:"isVimInInsertMode",value:function(){return!!this.editor.state&&!!this.editor.state.cm.state.vim.insertMode}},{key:"render",value:function(){var a=this.props,b=a.name,c=a.width,d=a.height,e=a.style,f=j({width:c,height:d},e);return o["default"].createElement("div",{ref:"editor",id:b,style:f})}}]),b}(n.PureComponent);C.propTypes={mode:n.PropTypes.string,focus:n.PropTypes.bool,theme:n.PropTypes.string,name:n.PropTypes.string,sessionId:n.PropTypes.string,className:n.PropTypes.string,height:n.PropTypes.string,width:n.PropTypes.string,fontSize:n.PropTypes.number,showGutter:n.PropTypes.bool,onChange:n.PropTypes.func,onCut:n.PropTypes.func,onCopy:n.PropTypes.func,onPaste:n.PropTypes.func,onFocus:n.PropTypes.func,onBlur:n.PropTypes.func,onScroll:n.PropTypes.func,value:n.PropTypes.string,onLoad:n.PropTypes.func,onCursorChange:n.PropTypes.func,onBeforeLoad:n.PropTypes.func,minLines:n.PropTypes.number,maxLines:n.PropTypes.number,readOnly:n.PropTypes.bool,highlightActiveLine:n.PropTypes.bool,tabSize:n.PropTypes.number,showPrintMargin:n.PropTypes.bool,cursorStart:n.PropTypes.number,editorProps:n.PropTypes.object,setOptions:n.PropTypes.object,annotations:n.PropTypes.array,markers:n.PropTypes.array,keyboardHandler:n.PropTypes.string,wrapEnabled:n.PropTypes.bool,enableBasicAutocompletion:n.PropTypes.oneOfType([n.PropTypes.bool,n.PropTypes.array]),enableLiveAutocompletion:n.PropTypes.oneOfType([n.PropTypes.bool,n.PropTypes.array]),commands:n.PropTypes.array,onEditorCreation:n.PropTypes.func,onSessionCreation:n.PropTypes.func,onDocumentCreation:n.PropTypes.func,keyboardHandlerFunction:n.PropTypes.func,completer:n.PropTypes.object,onVimModeChange:n.PropTypes.func},C.defaultProps={name:"brace-editor",focus:!1,mode:"",theme:"",height:"500px",width:"500px",value:"",fontSize:12,showGutter:!0,onChange:null,onPaste:null,onLoad:null,onScroll:null,minLines:null,maxLines:null,readOnly:!1,highlightActiveLine:!0,showPrintMargin:!0,tabSize:4,cursorStart:1,editorProps:{},setOptions:{},wrapEnabled:!1,enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,onEditorCreation:null,onSessionCreation:null,onDocumentCreation:null,keyboardHandlerFunction:null,completer:null,onVimModeChange:null}},1306:function(a,b,c){function d(a){return a&&a.__esModule?a:{"default":a}}"use strict",Object.defineProperty(b,"__esModule",{value:!0}),b.actions=b.ActionType=void 0;var e=c(552),f=d(e),g=b.ActionType=(0,f["default"])({INIT_CODE_EDITOR:null,SET_SOURCE_IN_CODE_EDITOR:null,CHANGE_SOURCE_IN_CODE_EDITOR:null,CHANGE_CURRENT_LANG_IN_CODE_EDITOR:null,CHANGE_CURRENT_KEYBINDINGS:null,CHANGE_FAVORITE_LANG_IN_CODE_EDITOR:null,SET_CURSOR_POSITION:null,CHANGE_FULL_SCREEN_MODE:null});b.actions={initCodeEditor:function(a,b){return{type:g.INIT_CODE_EDITOR,root:a,data:b}},setSourceInCodeEditor:function(a,b,c){return{type:g.SET_SOURCE_IN_CODE_EDITOR,root:a,data:b,animate_save:c}},changeSourceInCodeEditor:function(a,b,c){return{type:g.CHANGE_SOURCE_IN_CODE_EDITOR,root:a,source:b,delta:c}},changeCurrentLangInCodeEditor:function(a,b){return{type:g.CHANGE_CURRENT_LANG_IN_CODE_EDITOR,root:a,lang:b}},changeCurrentKeybindings:function(a,b){return{type:g.CHANGE_CURRENT_KEYBINDINGS,root:a,keybindings:b}},changeFavoriteLang:function(a,b){return{type:g.CHANGE_FAVORITE_LANG_IN_CODE_EDITOR,root:a,fav_lang:b}},setCursorPosition:function(a,b,c){return{type:g.SET_CURSOR_POSITION,root:a,row:b,col:c}},toggleFullScreenMode:function(a,b){return{type:g.CHANGE_FULL_SCREEN_MODE,root:a,is_full_screen:b}}}},1307:function(a,b,c){function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(localStorage){var b=localStorage.getItem(a);if(null!==b&&"undefined"!==b){var c=JSON.parse(b);return c}}return null}function f(a,b){if(localStorage){var c=JSON.stringify(b);return localStorage.setItem(a,c),!0}return!1}function g(a){return!!localStorage&&(localStorage.removeItem(a),!0)}function h(a,b){var c=a.private_url_hash,d=a.is_authenticated,f=s(c,"","lang"),h=e(f);if(h)return d&&g(f),h;if(a.last_lang)return a.last_lang;for(var i=null,j=0;j<a.langs_info.length;j++){var k=a.langs_info[j].id,l=a.lang_source_map[k].last_edited;l&&(null===i||l>i)&&(i=l,h=k)}return h?h:b.fav_lang&&p(b.fav_lang,a.langs_info)?b.fav_lang:a.langs_info.length>0?a.langs_info[0].id:null}function i(a,b){return a+"-"+b}function j(){return e("keybindings")?e("keybindings"):null}function k(a,b){var c=a.p_type,d=a.problem_id;return i(c,d)+"-"+b}function l(a){return a.lang_source_map[a.current_lang]}function m(a,b){for(var c="",d=a.split("\n"),e=!1,f=null,g=0,h=0;h<d.length;h++){var i=d[h];if(/^<readonly>/.test(i))e=!0,f=g;else if(/^<\/readonly>/.test(i)&&e){var j=new y(f,0,g,0);b.push(j),e=!1}else c+=i,h!=d.length-1&&(c+="\n"),g+=1}return c=c.replace(/\r/g,"")}function n(a,b){for(var c="",d={},e=0;e<b.length;e++)d[b[e].start.row]="start",d[b[e].end.row]="end";for(var f=a.split("\n"),g=0;g<f.length;g++){var h=f[g];g in d&&("start"==d[g]?c+="<readonly>\n":(c+="</readonly>",g==f.length-1&&/^\r?$/.test(h)||(c+="\n"))),c+=h,g!=f.length-1&&(c+="\n")}return c}function o(a){return a.map(function(a){return a.clone()})}function p(a,b){return b.some(function(b){return b.id==a})}function q(a){var b=a.split(".");return b.length>1?b.pop():null}function r(a){var b=q(a);return b&&b in w.EXTENSION_TO_LANG_MAP?w.EXTENSION_TO_LANG_MAP[b]:null}function s(a){var b=arguments.length<=1||void 0===arguments[1]?null:arguments[1],c=arguments.length<=2||void 0===arguments[2]?null:arguments[2];return key="","delta"==c?key=a+"_delta_"+b:"source"==c?key=a+"_"+b:"lang"==c&&(key=a+"_last_lang"),key}function t(){return $("#login-modal").show(),$("#login-modal").modal({onClose:function(a){a.data.fadeOut(300),a.container.fadeOut(300,function(){a.overlay.hide(),$.modal.close(),$(".modal-window").hide()})},onOpen:function(a){a.overlay.fadeIn(300),a.data.show(),a.container.fadeIn(300)}}),!1}"use strict",Object.defineProperty(b,"__esModule",{value:!0}),b.get_from_local_storage=e,b.set_to_local_storage=f,b.remove_from_local_storage=g,b.get_last_lang=h,b.getRoot=i,b.get_last_keybindings=j,b.getSessionId=k,b.getSourceData=l,b.get_source_and_readonly_ranges=m,b.applyReadonlyRangesToSource=n,b.cloneReadonlyRanges=o,b.isLangAllowed=p,b.getExtension=q,b.getLangForFilePath=r,b.getKey=s,b.showLoginModal=t;var u=c(1260),v=d(u),w=c(1303),x=v["default"].acequire("ace/range"),y=x.Range;window.get_source_and_readonly_ranges=m,window.applyReadonlyRangesToSource=n},1308:function(a,b,c){function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return m[a]}function f(a,b){var c=window.CodePlayer,d=window.setup_video,e=a.problem_slug,f=a.p_type_verbose,g={langs:JSON.stringify(a.langs_info.map(function(a){return a.id})),problem_slug:e,p_type_verbose:f};d(g,function(d){if("OK"==d.status){var e=d.lang_code_video_id_map;for(var f in e){var g=e[f].id,h=(0,l.getSessionId)(a,f);g&&(m[h]=new c(g,{animate_save:b})),i(f,a.private_url_hash,h)}}},{})}function g(a){var b=m[a];if(b){var c=b.finish_recording();return c}}function h(a,b,c,d){var e=m[a];e&&(e.enqueue_changeset(c,b,d),e.start_recording())}function i(a,b,c){var d=(0,l.getKey)(b,a,"delta"),f=(0,l.getKey)(b,a,"source"),g=(0,l.get_from_local_storage)(d),h=e(c);if(g){h.changeset_queue=h.changeset_queue.concat(g);var i=function(){(0,l.remove_from_local_storage)(d),(0,l.remove_from_local_storage)(f)};h.start_recording(100,i)}}"use strict",Object.defineProperty(b,"__esModule",{value:!0}),b.getCodePlayerForSessionId=e,b.setUpCodePlayers=f,b.codePlayerFinishRecording=g,b.codePlayerEnqueueChangeset=h,b.savePreviousAnonChangeSets=i;var j=c(1260),k=d(j),l=c(1307);window.AceDocument=k["default"].acequire("ace/document").Document,window.SessionIdCodePlayerMap={};var m=window.SessionIdCodePlayerMap},1309:function(a,b){function c(a,b){return void 0===b&&(b={}),a in d?(b.created=!1,d[a]):(d[a]=[],b.created=!0,d[a])}"use strict",Object.defineProperty(b,"__esModule",{value:!0}),b.getOrCreateReadonlyRanges=c,window.SessionIdReadonlyRangesMap={};var d=window.SessionIdReadonlyRangesMap},1310:function(a,b,c){function d(a){return v[a]||null}"use strict",Object.defineProperty(b,"__esModule",{value:!0}),b.getCompleter=d;var e=c(1311),f=c(1312),g=c(1313),h=c(1314),i=c(1315),j=c(1316),k=c(1317),l=c(1318),m=c(1319),n=c(1320),o=c(1321),p=c(1322),q=c(1323),r=c(1324),s=c(1325),t=c(1326),u=c(1327),v={C:e.c_completer,CPP:g.cpp_completer,CPP11:g.cpp_completer,PYTHON:q.python_completer,PERL:o.perl_completer,PASCAL:n.pascal_completer,JAVA:k.java_completer,JAVA8:k.java_completer,RUBY:s.ruby_completer,GO:i.go_completer,PHP:p.php_completer,CSHARP:h.csharp_completer,LISP:l.lisp_completer,R:r.r_completer,RUST:t.rust_completer,HASKELL:j.haskell_completer,SCALA:u.scala_completer,OBJECTIVEC:m.objectivec_completer,CLOJURE:f.clojure_completer}},1328:function(a,b,c){function d(a){return a&&a.__esModule?a:{"default":a}}"use strict",Object.defineProperty(b,"__esModule",{value:!0}),b.actions=b.ActionType=void 0;var e=c(552),f=d(e),g=b.ActionType=(0,f["default"])({INIT_SUB_EDITOR:null,SUB_EDITOR_SWAP_SHOW_INPUT:null,SUB_EDITOR_CUTSOM_INPUT_CHANGE:null,SUB_EDITOR_FETCH_RESPONSE:null,SUB_EDITOR_FETCH_RESPONSE_SUCCESS:null});b.actions={initSubEditor:function(a){return{type:g.INIT_SUB_EDITOR,root:a}},swapShowInput:function(a){return{type:g.SUB_EDITOR_SWAP_SHOW_INPUT,root:a}},customInputChange:function(a,b){return{type:g.SUB_EDITOR_CUTSOM_INPUT_CHANGE,root:a,value:b}},fetchResponse:function(a,b){return{type:g.SUB_EDITOR_FETCH_RESPONSE,root:a,is_log:b}},fetchResponseSuccess:function(a,b,c){return{type:g.SUB_EDITOR_FETCH_RESPONSE_SUCCESS,root:a,html:b,is_log:c}}}},1329:function(a,b){function c(a){var b=jQuery("<div/>").html(a),c=b.find("[replaceData=true]"),d=b.find("[replaceData=false]");return!(d.length>0&&0===c.length)&&(c.length>0,!0)}"use strict",Object.defineProperty(b,"__esModule",{value:!0}),b.shouldPoll=c},1330:function(a,b){"use strict",Object.defineProperty(b,"__esModule",{value:!0}),b.P_TYPE_SQL="q"},1331:function(a,b){},1332:function(a,b){"use strict",Object.defineProperty(b,"__esModule",{value:!0}),b["default"]={code_editor:{global_conf:{loaded:!1},roots:{}}}},1333:function(a,b,c){function d(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function e(a,b){switch(b.type){case g.ActionType.INIT_CODE_EDITOR:for(var c=b.root,e=b.data,k=e.langs_info,m={},n=0;n<k.length;n++){var p=k[n];m[p.id]={source:null,whole_source:null,last_edited:null,cursor_pos:{row:0,col:0},readonly_ranges:[]}}var q=a.global_conf;return a.global_conf.loaded||(q=f({},a.global_conf,{loaded:!0,current_keybindings:(0,j.get_last_keybindings)(),fav_lang:e.fav_lang})),f({},a,{global_conf:q,roots:f({},a.roots,d({},c,f({},e,{current_lang:null,lang_source_map:m})))});case g.ActionType.SET_SOURCE_IN_CODE_EDITOR:for(var t=b.root,v=b.data,w=b.animate_save,x=f({},a.roots[t].lang_source_map),y=0;y<v.length;y++){var z=v[y],A=(0,j.getKey)(a.roots[t].private_url_hash,z.lang,"source"),B=(0,j.get_from_local_storage)(A);B&&(z.source=B.source),x[z.lang]=f({},x[z.lang],{source:(0,j.get_source_and_readonly_ranges)(z.source||"",[]),whole_source:z.source||"",last_edited:z.last_edited})}a=f({},a,{roots:f({},a.roots,d({},t,f({},a.roots[t],{lang_source_map:x})))}),a.roots[t].current_lang=(0,j.get_last_lang)(a.roots[t],a.global_conf);var C=a.roots[t];return C.is_authenticated&&(0,h.setUpCodePlayers)(C,w),a;case g.ActionType.CHANGE_SOURCE_IN_CODE_EDITOR:var D=b.root,E=b.source,F=b.delta,G=a.roots[D],H=G.lang_source_map,I=G.current_lang,J=H[I].whole_source,K=(0,j.getSessionId)(G,I);if(H=f({},H,d({},I,f({},H[I],{source:E,whole_source:(0,j.applyReadonlyRangesToSource)(E,(0,i.getOrCreateReadonlyRanges)(K)),last_edited:(new Date).getTime()}))),a=f({},a,{roots:f({},a.roots,d({},D,f({},a.roots[D],{lang_source_map:H})))}),G.is_authenticated){var L=(0,i.getOrCreateReadonlyRanges)(K);(0,h.codePlayerEnqueueChangeset)(K,J,F,(0,j.cloneReadonlyRanges)(L))}else{var M=(0,j.getKey)(G.private_url_hash,I,"delta"),N=(0,j.getKey)(G.private_url_hash,I,"source"),O=(0,j.getKey)(G.private_url_hash,"","lang"),P=(0,j.get_from_local_storage)(M),Q={delta:F,source:E,timestamp:(new Date).getTime()};P?P.push(Q):P=[Q],(0,j.set_to_local_storage)(M,P);var R={source:E,lang:I,last_edited:(new Date).getTime()};(0,j.set_to_local_storage)(N,R),(0,j.set_to_local_storage)(O,I)}return a;case g.ActionType.CHANGE_CURRENT_LANG_IN_CODE_EDITOR:var S=b.root,T=b.lang;return f({},a,{roots:f({},a.roots,d({},S,f({},a.roots[S],{current_lang:T})))});case g.ActionType.CHANGE_CURRENT_KEYBINDINGS:var U=b.keybindings;return(0,j.set_to_local_storage)("keybindings",U),f({},a,{global_conf:f({},a.global_conf,{current_keybindings:U})});case g.ActionType.CHANGE_FAVORITE_LANG_IN_CODE_EDITOR:var V=b.fav_lang;return f({},a,{global_conf:f({},a.global_conf,{fav_lang:V})});case g.ActionType.SET_CURSOR_POSITION:var W=b.root,X=b.row,Y=b.col,Z={row:X,col:Y},$=a.roots[W],_=$.current_lang,ab=$.lang_source_map;return ab=f({},ab,d({},_,f({},ab[_],{cursor_pos:Z}))),f({},a,{roots:f({},a.roots,d({},W,f({},a.roots[W],{lang_source_map:ab})))});case g.ActionType.CHANGE_FULL_SCREEN_MODE:var bb=b.root,cb=b.is_full_screen;return f({},a,{roots:f({},a.roots,d({},bb,f({},a.roots[bb],{is_full_screen:cb})))})}return a}"use strict",Object.defineProperty(b,"__esModule",{value:!0});var f=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a};b["default"]=e;var g=c(1306),h=c(1308),i=c(1309),j=c(1307)},1334:function(a,b){"use strict",Object.defineProperty(b,"__esModule",{value:!0}),b["default"]={sub_editors:{}}},1335:function(a,b,c){function d(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function e(a,b){switch(b.type){case g.ActionType.INIT_SUB_EDITOR:var c=b.root;return f({},a,d({},c,{show_input:!1,input_text:"",fetching_response:!1,log_response:null,sub_response:null}));case g.ActionType.SUB_EDITOR_SWAP_SHOW_INPUT:var e=b.root;return f({},a,d({},e,f({},a[e],{show_input:!a[e].show_input})));case g.ActionType.SUB_EDITOR_CUTSOM_INPUT_CHANGE:var h=b.root,i=b.value;return f({},a,d({},h,f({},a[h],{input_text:i})));case g.ActionType.SUB_EDITOR_FETCH_RESPONSE:var j=b.root,k=b.is_log;return f({},a,d({},j,f({},a[j],{show_input:!!k&&a[j].show_input,fetching_response:!0,log_response:null,sub_response:null})));case g.ActionType.SUB_EDITOR_FETCH_RESPONSE_SUCCESS:var l=b.root,m=b.html,n=b.is_log;return f({},a,d({},l,f({},a[l],{fetching_response:!1,log_response:n?m:a[l].log_response,sub_response:n?a[l].sub_response:m})))}return a}"use strict",Object.defineProperty(b,"__esModule",{value:!0});var f=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a};b["default"]=e;var g=c(1328)}});